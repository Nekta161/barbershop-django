---
st_group: python 413
project: "[[–ê–∫–∞–¥–µ–º–∏—è TOP]]"
journal: "[[PYTHON413]]"
tags:
  - PYTHON413
  - django
  - cbv
  - class-based-views
  - refactoring
  - ListView
  - DetailView
  - CreateView
  - TemplateView
date: 2025-08-02
type:
  - home work
hw_num: 46
topic: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –∫–ª–∞—Å—Å–æ–≤—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (CBV)
hw_theme:
  - django
  - Class-Based Views
  - refactoring
---

# –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ üìÉ

**–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–µ–∫—Ç–∞ "–ë–∞—Ä–±–µ—Ä—à–æ–ø" –Ω–∞ –∫–ª–∞—Å—Å–æ–≤—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (CBV)**

## –ö—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

>[!info]
>
>### –ö—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
>
>–í —ç—Ç–æ–º –∑–∞–¥–∞–Ω–∏–∏ –≤—ã –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤–∞–∂–Ω—ã–π —à–∞–≥ –≤ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–º —Ä–∞–∑–≤–∏—Ç–∏–∏ Django-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ ‚Äî –ø—Ä–æ–≤–µ–¥–µ—Ç–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞. –í–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (FBV) –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ `core` –Ω–∞ –∏—Ö –∫–ª–∞—Å—Å–æ–≤—ã–µ –∞–Ω–∞–ª–æ–≥–∏ (CBV). –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç —Å–¥–µ–ª–∞—Ç—å –∫–æ–¥ –±–æ–ª–µ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º, —á–∏—Ç–∞–µ–º—ã–º –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–º, –∞ —Ç–∞–∫–∂–µ –ª—É—á—à–µ –ø–æ–Ω—è—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø—ã –û–û–ü –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ Django.

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: ü¶æ

- Python 3.10+
- Django 4.x+
- Django Class-Based Views (CBV):
  - `TemplateView`
  - `ListView`
  - `DetailView`
  - `CreateView`
- Django ORM

## –ó–∞–¥–∞–Ω–∏–µ üë∑‚Äç‚ôÇÔ∏è

–í–∞–º –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç –ø—Ä–æ–≤–µ—Å—Ç–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –≤—Å–µ—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ `core`. –ö–∞–∂–¥–æ–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–º–µ–Ω–µ–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –∫–ª–∞—Å—Å–æ–º.

### –ß–∞—Å—Ç—å 1: –ü—Ä–æ—Å—Ç—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (`TemplateView`)

1. **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (`landing`):**
    - –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å `LandingView`, —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–π –æ—Ç `django.views.generic.TemplateView`.
    - –£–∫–∞–∂–∏—Ç–µ `template_name = 'landing.html'`.
    - –î–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –≤ —à–∞–±–ª–æ–Ω —Å–ø–∏—Å–∫–æ–≤ –º–∞—Å—Ç–µ—Ä–æ–≤ –∏ –æ—Ç–∑—ã–≤–æ–≤ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –º–µ—Ç–æ–¥ `get_context_data`. –í–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ –ø–æ–ª—É—á–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î –∏ –¥–æ–±–∞–≤—å—Ç–µ –∏—Ö –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç.

2. **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏ (`thanks`):**
    - –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å `ThanksView`, —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–π –æ—Ç `TemplateView`.
    - –£–∫–∞–∂–∏—Ç–µ `template_name = 'thanks.html'`.

### –ß–∞—Å—Ç—å 2: –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–æ–≤ –∏ –¥–µ—Ç–∞–ª–µ–π (`ListView`, `DetailView`)

1. **–°–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫ (`orders_list`):**
    - –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å `OrdersListView`, —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–π –æ—Ç `django.views.generic.ListView`.
    - –£–∫–∞–∂–∏—Ç–µ `model = Order`, `template_name = 'orders_list.html'`, `context_object_name = 'orders'`.
    - –î–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ —É–±—ã–≤–∞–Ω–∏—é –¥–∞—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ `queryset` –∏–ª–∏ —É–∫–∞–∂–∏—Ç–µ –∞—Ç—Ä–∏–±—É—Ç `ordering = ['-date_created']`.
    - **–ü–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ –ª–æ–≥–∏–∫—É –ø–æ–∏—Å–∫–∞:** –ª–æ–≥–∏–∫—É —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ Q-–æ–±—ä–µ–∫—Ç–∞–º –∏–∑ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ –≤ –º–µ—Ç–æ–¥ `get_queryset`. –í —ç—Ç–æ–º –º–µ—Ç–æ–¥–µ —Å–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∞–π—Ç–µ –±–∞–∑–æ–≤—ã–π `queryset`, –∞ –∑–∞—Ç–µ–º –ø—Ä–∏–º–µ–Ω—è–π—Ç–µ –∫ –Ω–µ–º—É —Ñ–∏–ª—å—Ç—Ä—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ GET-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–∑ `self.request.GET`.

2. **–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞—è–≤–∫–µ (`order_detail`):**
    - –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å `OrderDetailView`, —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–π –æ—Ç `django.views.generic.DetailView`.
    - –£–∫–∞–∂–∏—Ç–µ `model = Order`, `template_name = 'order_detail.html'`, `context_object_name = 'order'`.

### –ß–∞—Å—Ç—å 3: –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ (`CreateView`)

1. **–°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ (`create_review`):**
    - –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å `ReviewCreateView`, —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–π –æ—Ç `django.views.generic.CreateView`.
    - –£–∫–∞–∂–∏—Ç–µ `model = Review`, `form_class = ReviewForm`, `template_name = 'review_form.html'`.
    - –î–ª—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–∑—ã–≤–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `success_url = reverse_lazy('thanks')`.
    - **–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è success-—Å–æ–æ–±—â–µ–Ω–∏—è** –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –º–µ—Ç–æ–¥ `form_valid`. –í–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ –≤—ã–∑–æ–≤–∏—Ç–µ `messages.success()` –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –º–µ—Ç–æ–¥–∞.

2. **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ (`create_order`):**
    - –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å `OrderCreateView`, —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–π –æ—Ç `CreateView`.
    - –£–∫–∞–∂–∏—Ç–µ `model = Order`, `form_class = OrderForm`, `template_name = 'order_form.html'`, `success_url = reverse_lazy('thanks')`.
    - –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ `ReviewCreateView`, –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ `form_valid` –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è flash-—Å–æ–æ–±—â–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–µ.

>[!warning]
>
>### –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã
>
>- –ù–µ –∑–∞–±—É–¥—å—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª `core/urls.py`, —á—Ç–æ–±—ã –æ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –Ω–æ–≤—ã–µ –∫–ª–∞—Å—Å–æ–≤—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è. –í–º–µ—Å—Ç–æ `views.my_view` —Ç–µ–ø–µ—Ä—å –±—É–¥–µ—Ç `views.MyView.as_view()`.
>- –í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ –≤—Å—é –ª–æ–≥–∏–∫—É –∏–∑ —Å—Ç–∞—Ä—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –≤ –º–µ—Ç–æ–¥—ã –Ω–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤. –û—Å–æ–±–µ–Ω–Ω–æ —ç—Ç–æ –∫–∞—Å–∞–µ—Ç—Å—è –ª–æ–≥–∏–∫–∏ –ø–æ–∏—Å–∫–∞ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç.

### –ß–∞—Å—Ç—å 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `urls.py`

- –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `core/urls.py`.
- –ó–∞–º–µ–Ω–∏—Ç–µ –≤—Å–µ –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –Ω–∞ –≤—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤ `.as_view()` –æ—Ç –≤–∞—à–∏—Ö –Ω–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤.

–ü—Ä–∏–º–µ—Ä:
`path('orders/', views.orders_list, name='orders_list')`
–ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—Å—è –≤
`path('orders/', views.OrdersListView.as_view(), name='orders_list')`

### –¢–∞–±–ª–∏—Ü–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

| –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (FBV) | –ö–ª–∞—Å—Å–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (CBV) | –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å Django |
| :--- | :--- | :--- |
| `landing` | `LandingView` | `TemplateView` |
| `thanks` | `ThanksView` | `TemplateView` |
| `orders_list` | `OrdersListView` | `ListView` |
| `order_detail` | `OrderDetailView` | `DetailView` |
| `create_review` | `ReviewCreateView` | `CreateView` |
| `create_order` | `OrderCreateView` | `CreateView` |

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ üëå

1. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ `TemplateView` –∏ `DetailView` (3 –±–∞–ª–ª–∞)**
    - –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è `landing`, `thanks` –∏ `order_detail` –ø–µ—Ä–µ–ø–∏—Å–∞–Ω—ã –Ω–∞ CBV.
    - `LandingView` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–¥–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (–º–∞—Å—Ç–µ—Ä–∞, –æ—Ç–∑—ã–≤—ã) —á–µ—Ä–µ–∑ `get_context_data`.
    - `OrderDetailView` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞.

2. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `ListView` —Å –ø–æ–∏—Å–∫–æ–º (5 –±–∞–ª–ª–æ–≤)**
    - –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ `orders_list` –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–æ –Ω–∞ `ListView`.
    - –õ–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞ –ø–æ Q-–æ–±—ä–µ–∫—Ç–∞–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ –º–µ—Ç–æ–¥ `get_queryset`.
    - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

3. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `CreateView` —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Ñ–æ—Ä–º—ã (3 –±–∞–ª–ª–∞)**
    - –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è `create_review` –∏ `create_order` –ø–µ—Ä–µ–ø–∏—Å–∞–Ω—ã –Ω–∞ `CreateView`.
    - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ —É–∫–∞–∑–∞–Ω—ã `form_class`, `template_name` –∏ `success_url`.
    - Flash-—Å–æ–æ–±—â–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞ `form_valid`.

4. **URL-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –æ–±—â–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ (1 –±–∞–ª–ª)**
    - –§–∞–π–ª `core/urls.py` –æ–±–Ω–æ–≤–ª–µ–Ω –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `.as_view()` –¥–ª—è –≤—Å–µ—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤.
    - –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç PEP 8, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–æ–≤ –ª–æ–≥–∏—á–Ω–∞ –∏ —á–∏—Å—Ç–∞.
    - –ü—Ä–æ–µ–∫—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞.
